<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<AnchorPane xmlns="http://javafx.com/javafx/23.0.2"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="Controllers.Collections.ModifierCollections"
            prefWidth="800" prefHeight="700"
            styleClass="card">

    <VBox spacing="10" alignment="CENTER" AnchorPane.leftAnchor="10" AnchorPane.rightAnchor="10"
          AnchorPane.topAnchor="10" AnchorPane.bottomAnchor="10">
        <padding><Insets top="20" bottom="20" left="20" right="20"/></padding>

        <Label text="Edit Collection" styleClass="title"/>

        <TextField fx:id="titleField" promptText="Title" styleClass="text-input"/>
        <TextArea fx:id="descriptionArea" promptText="Description" prefRowCount="3" styleClass="text-input"/>
        <TextField fx:id="goalField" promptText="Objective (TND)" styleClass="text-input"/>
        
        <!-- Image selection with remove option -->
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Button text="Choose image" onAction="#chooseImage" styleClass="secondary-button"/>
            <Button text="Remove image" onAction="#removeImage" style="-fx-background-color: transparent; -fx-text-fill: #8BFFD0; -fx-border-color: #8BFFD0; -fx-border-radius: 8; -fx-border-width: 1;"/>
            <Label fx:id="imagePathLabel" text="No image" styleClass="body-text"/>
        </HBox>
        
        <!-- Available Artworks Section -->
        <Label text="Available Artworks" styleClass="subtitle" />
        <TableView fx:id="artworkTable" VBox.vgrow="ALWAYS" prefHeight="200">
            <columns>
                <TableColumn fx:id="nameColumn" text="Name" prefWidth="150"/>
                <TableColumn fx:id="themeColumn" text="Theme" prefWidth="100"/>
                <TableColumn fx:id="descriptionColumn" text="Description" prefWidth="200"/>
            </columns>
        </TableView>
        <Button text="Add to Collection" onAction="#addArtworksToCollection" styleClass="secondary-button"/>
        
        <!-- Collection Artworks Section -->
        <Label text="Artworks in this Collection" styleClass="subtitle" />
        <TableView fx:id="collectionArtworksTable" VBox.vgrow="ALWAYS" prefHeight="200">
            <columns>
                <TableColumn fx:id="collectionNameColumn" text="Name" prefWidth="150"/>
                <TableColumn fx:id="collectionThemeColumn" text="Theme" prefWidth="100"/>
            </columns>
        </TableView>
        <Button text="Remove from Collection" onAction="#removeArtworksFromCollection" styleClass="secondary-button"/>

        <Button text="Update" onAction="#modifierCollection" styleClass="primary-button"/>
    </VBox>

</AnchorPane>
